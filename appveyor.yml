    
version: 1.0.{build}
image: Visual Studio 2017

configuration:
- Release


environment:
  PROJECT_NAME: chrome-password-reader
  matrix:
  - id: msvc-x86
    APPVEYOR_BUILD_WORKER_IMAGE: Visual Studio 2017
    platform: x86
    compiler: msvc-15
    generator: "Visual Studio 15 2017"
    QTDIR: "C:\\Qt\\5.13.0\\msvc2017"
  - id: msvc-x64
    APPVEYOR_BUILD_WORKER_IMAGE: Visual Studio 2017
    platform: x64
    compiler: msvc-15
    generator: "Visual Studio 15 2017 Win64"
    QTDIR: "C:\\Qt\\5.13.0\\msvc2017_64"




build:
  project: AsterixRecorder.vcxproj
  
before_build:
  - ps: $Env:PLATFORM_TOOLSET="v141"
  
after_build:
  - 7z a AsterixRecorder.zip %APPVEYOR_BUILD_FOLDER%\Release\*.* "C:\Program Files (x86)\Windows Kits\10\Redist\ucrt\DLLs\x86\ucrtbase.dll"

artifacts:  # Archive the generated packages in the ci.appveyor.com build report.  - path: bin\Release\*
  - path: AsterixRecorder.zip
    name: artifacts-all
